import{r as a,j as e}from"./index-DXjinHTK.js";const b=({title:r,projectType:t,projectImg:d,description:i})=>{const[h,p]=a.useState(!1),[m,u]=a.useState(!1),[l,n]=a.useState(!1),_=a.useRef(null),c=a.useRef(null);a.useEffect(()=>{const s=new IntersectionObserver(o=>{o.forEach(j=>{j.isIntersecting&&(u(!0),s.unobserve(j.target))})},{threshold:.1,rootMargin:"50px"});return c.current&&s.observe(c.current),()=>{c.current&&s.unobserve(c.current)}},[]),a.useEffect(()=>{const s=o=>{o.key==="Escape"&&l&&n(!1)};return l&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[l]);const x=()=>{p(!0)},f=()=>{n(!0)},v=()=>{n(!1)},N=s=>{s.target===s.currentTarget&&n(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"project-card",ref:c,children:[e.jsxs("div",{className:"project-card__image",children:[!h&&e.jsx("div",{className:"project-card__skeleton",children:e.jsx("div",{className:"project-card__skeleton-image"})}),m&&e.jsx("img",{ref:_,src:d,alt:`${r} - ${t} project`,onLoad:x,style:{opacity:h?1:0},loading:"lazy"})]}),e.jsxs("div",{className:"project-card__content",children:[e.jsxs("header",{className:"project-card__header",children:[e.jsx("h5",{className:"project-card__title",onClick:f,children:r}),e.jsx("p",{className:"project-card__type subtitle2",children:t})]}),e.jsx("p",{className:"project-card__description body2",children:i})]})]}),l&&e.jsx("div",{className:"project-splash",onClick:N,children:e.jsxs("div",{className:"project-splash__content",children:[e.jsx("div",{className:"project-splash__image",children:e.jsx("img",{src:d,alt:`${r} - ${t} project`})}),e.jsxs("div",{className:"project-splash__details",children:[e.jsxs("div",{className:"project-splash__header",children:[e.jsxs("span",{className:"project-splash__title",children:[e.jsx("h3",{children:r}),e.jsx("h5",{children:t})]}),e.jsx("button",{className:"project-splash__close",onClick:v,"aria-label":"Close splash screen",children:"Ã—"})]}),e.jsx("div",{className:"project-splash__description",children:e.jsx("p",{className:"body1",children:i})})]})]})})]})};export{b as P};
